sectors = {
    "게임": ["게임", "게이밍"],
    "조선": ["조선", "선박"],
    "방산": ["방산", "국방", "무기"],
    "반도체": ["반도체", "삼성전자", "SK하이닉스", "HBM", "메모리"],
    "이차전지": ["이차전지", "배터리", "2차전지", "리튬"],
    "디스플레이": ["디스플레이", "LCD", "OLED", "패널"],
    "화장품": ["화장품", "뷰티", "코스메틱", "달바"],
    "자동차": ["자동차", "모빌리티", "테슬라", "전기차", "EV"],
    "건설": ["건설", "시멘트", "아파트"],
    "철강": ["철강", "철", "스틸"],
    "화학": ["화학", "과산화수소", "바인더", "소재"],
    "엔터": ["엔터", "엔터테인먼트", "음악", "콘서트", "영화"],
    "음식료": ["음식", "식품", "음료", "외식"],
    "패션": ["패션", "의류", "의복"],
    "풍력": ["풍력", "발전", "터빈"],
    "원전": ["원전", "원자력", "핵발전"],
    "바이오": ["바이오", "제약", "의약품"],
    "임플란트": ["임플란트", "치과"],
    "피부미용": ["피부", "미용", "성형"],
    "유통": ["유통", "물류", "마트", "쇼핑"],
    "은행": ["은행", "금융", "대출"],
    "보험": ["보험"],
    "수소": ["수소", "연료전지"],
    "IT": ["IT", "소프트웨어", "인공지능", "AI", "빅데이터", "클라우드"],
    "전선": ["전선", "케이블", "전력"],
    "여행": ["여행", "관광", "호텔", "항공"]
}

avoid_channels = ['ㅇㅇ','ㄱㄴㄷ','아ㅏ아','코백남 공지방',
                  '화장품, 실리콘투, 뷰티']


def gemini_prompt(sector, data):
    sector_discription = f"다음은 텔레그램 주식 정보 채널에서 {sector} 산업에 대한 투자자들의 의견을 수집한 데이터입니다."
    defult_prompt = f'''각 채널은 여러 개의 게시글로 구성되어 있으며, 직접적인 '매수/매도' 표현 없이도 맥락, 어조, 표현 방식 등을 통해 투자 의견을 유추할 수 있습니다.
    다음 기준에 따라 채널별 투자 의견을 점수화하고, 전체적인 시장 분위기도 요약해주세요.

    1. 채널별 투자 의견 점수화

        각 채널에 대해, 게시글 전체 내용을 참고하여 투자 의견을 아래 기준에 따라 0~100점으로 산정하세요:
        - 0~20점: 매우 부정
        - 21~40점: 부정
        - 41~60점: 중립
        - 61~80점: 긍정
        - 81~100점: 매우 강한 긍정

        투자 의견 유추 시 고려할 표현 및 맥락 요소:
        - 채널 운영자는 책임 회피를 위해 직접적으로 '매수하라', '매도하라'고 표현하지 않는 경우가 많습니다.
        - 대신 '관심 가져볼 타이밍', '재료 풍부', '눌림목', '외인 매수세 유입', '기대감', '익절 시점', '과열 우려', '차트 부담' 등의 간접적인 표현, 시장 해석, 감정적 톤, 은어(예: 총알 장전, 물린다, 익절각 등)를 분석하여 투자 의견을 추론해야 합니다.
        - 단순 뉴스 전달만 포함된 경우에는 ‘중립(41~60점)’으로 간주하세요.
        - 개별 게시글이 아닌 채널 전체 게시글의 흐름과 평균적인 분위기를 기준으로 판단하세요.
        
    2. 시장 분위기 및 인사이트 요약 (의견 유형별)

        모든 채널의 게시글을 종합하여, 해당 산업에 대한 시장 분위기 또는 투자 인사이트를 다음과 같은 3가지 의견 유형별로 나누어 요약해주세요:

        - 긍정 의견 요약
        - 부정 의견 요약
        - 중립 의견 요약

        각 유형에 대해 다음 두 가지 정보를 반드시 모두 출력해주세요:

        - headline: 각 의견 유형을 대표하는 시장 분위기를 표현한 뉴스 제목 형태의 한 문장  
            예: ‘기대감 커지는 반도체, 엔비디아 블랙웰 양산 돌입’
        - summary: 투자자들의 심리, 수급 흐름, 기대 또는 우려 요인, 중장기 시각 등을 포함한 3~5문장 분량의 요약 설명

        만약 해당 의견 유형에 해당하는 게시글이 **충분하지 않거나 존재하지 않는 경우**, 다음과 같이 출력해주세요:
        - headline: "정보 없음"
        - summary: "해당 유형의 의견을 확인할 수 있는 게시글이 부족합니다."


    결과는 아래 형식으로 JSON 형태로 출력해 주세요:

    {{
        "scores": {{
            "채널이름1": 점수,
            "채널이름2": 점수,
            ...
        }},
        "summary": "모든 채널 내용을 종합한 요약문"
    }}'''
    return sector_discription + defult_prompt + data
